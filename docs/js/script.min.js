const regEmail=/^((([0-9A-Za-z]{1}[-0-9A-z\.]{0,30}[0-9A-Za-z]?)|([0-9А-Яа-я]{1}[-0-9А-я\.]{0,30}[0-9А-Яа-я]?))@([-A-Za-z]{1,}\.){1,}[-A-Za-z]{2,})$/,regName=/^(?=.{1,15}$)[А-Яа-яё][А-Яа-яё]*(?: [А-Яа-яё]+)*$/,regPhone=/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/,userName=document.querySelector("#user-name"),userPhone=document.querySelector("#user-phone"),userEmail=document.querySelector("#user-email"),formBtn=document.querySelector(".form__button"),form=document.querySelector("#form");function regexValidite(e,r){return r.test(e)}function verification(e,r,t){if(parent=e.closest(".form-field"),blockError=parent.querySelector(".form-field__error-mess"),regexValidite(e.value,r)){if(!(e.value.length<=5))return e.classList.remove("invalid"),e.classList.add("valid"),!0;e.classList.remove("valid"),e.classList.add("invalid"),blockError.textContent="Заполните поле."}else e.classList.remove("valid"),e.classList.add("invalid"),blockError.textContent=t,""===e.value&&(blockError.textContent="Заполните поле.")}let valueName="",valuePhone="",valueMail="";userName.addEventListener("input",(()=>{valueName=verification(userName,regName,"Проверьте поле на правильность заполения.")})),userEmail.addEventListener("input",(()=>{valueMail=verification(userEmail,regEmail,"Почта не найдена.")})),userPhone.addEventListener("input",(()=>{valuePhone=verification(userPhone,regPhone,"Номеер не найден.")})),form.addEventListener("submit",(e=>{if(e.preventDefault(),valueName&&valueMail&&valuePhone){const e=document.querySelector(".popup"),r=document.querySelector(".popup__close-btn"),t=document.querySelector("#contract"),a=document.querySelectorAll("input");e.classList.add("popup_open"),r.addEventListener("click",(()=>{e.classList.remove("popup_open")})),a.forEach((e=>{e.value="",e.classList.remove("valid")})),t.checked=!1}else alert("Проверьте все поля на правильность заполения.")}));